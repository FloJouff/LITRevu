{% extends 'base.html' %}
{% block content %}
<div class="container my-5">
    <div class="border border-dark p-4">
    <div class="row align-items-center">

        <h2>Suivre d'autres utilisateurs</h2>
        <div class="border border-dark p-2"  style="background-color: rgb(253, 250, 245);">
            <div class="row">
                <div class="col-6">
            <form id="follow-users-form" method="post">
                {{form.as_p}}
                {% csrf_token %}
            </div>
                <div class="text-center col-6">
                <button type="submit" class="btn btn-secondary">Suivre</button> 
            </div>
            </form> 
        </div>
            
        </div>          
    </div>
    <div class="row">
        <h3>Abonnements</h3>
        <div class="border border-dark p-2 mt-2"  style="background-color: rgb(253, 250, 245);">
        <ul class="list-unstyled">
            {% if followings %}
                {% for following in followings %}
                    <li class="border border-dark p-2"> {{ following.followed_user.username}}</li>
                {% endfor %}
            {% else %}
                <p>Vous ne suivez aucun autre utilisateur</p>
            {% endif %}
        </ul>
    </div>
    </div>
    <div class="row">
        <h3>Abonnés</h3>
        <div class="border border-dark p-2 "  style="background-color: rgb(253, 250, 245);">
        <ul class="list-unstyled">
            {% if followers %}
                {% for follower in followers %}
                <li class="border border-dark p-2"> {{ follower.user.username}} </li>
                {% endfor %}
            {% else %}
                <p>Vous n'avez aucun abonné</p>
            {% endif %}
        </ul>
    </div>
    </div>
</div>
</div>
{% endblock content %}